"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[47],{4635:function(e,n,t){t.d(n,{AA:function(){return l},CP:function(){return p},Ru:function(){return u},ac:function(){return h},ed:function(){return d},fR:function(){return m},gy:function(){return f},n9:function(){return i}});var r=t(5861),s=t(7757),a=t.n(s),c=t(4569),o=t.n(c),i=function(e){return function(){var n=(0,r.Z)(a().mark((function n(t){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"likeRequest"}),n.next=4,o().get("/api/v1/post/".concat(e));case 4:r=n.sent,s=r.data,t({type:"likeSuccess",payload:s.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t({type:"likeFailure",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e,n){return function(){var t=(0,r.Z)(a().mark((function t(r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"addCommentRequest"}),t.next=4,o().put("/api/v1/post/comment/".concat(e),{comment:n},{headers:{"Content-Type":"application/json"}});case 4:s=t.sent,c=s.data,r({type:"addCommentSuccess",payload:c.message}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"addCommentFailure ",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e,n){return function(){var t=(0,r.Z)(a().mark((function t(r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"deleteCommentRequest"}),t.next=4,o().delete("/api/v1/post/comment/".concat(e),{data:{commentId:n}});case 4:s=t.sent,c=s.data,r({type:"deleteCommentSuccess",payload:c.message}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"deleteCommentFailure ",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,n,t){return function(){var s=(0,r.Z)(a().mark((function r(s){var c,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:"newPostRequest"}),r.next=4,o().post("/api/v1/post/upload",{caption:e,image:n,tripDate:t},{headers:{"Content-type":"application/json"}});case 4:c=r.sent,i=c.data,s({type:"newPostSuccess",payload:i.message}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),s({type:"newPostFailure ",payload:r.t0.response.data.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return s.apply(this,arguments)}}()},p=function(e,n){return function(){var t=(0,r.Z)(a().mark((function t(r){var s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"updateCaptionRequest"}),t.next=4,o().put("/api/v1/post/".concat(n),{caption:e},{headers:{"Content-type":"application/json"}});case 4:s=t.sent,c=s.data,r({type:"updateCaptionSuccess",payload:c.message}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"updateCaptionFailure ",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,r.Z)(a().mark((function n(t){var r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"deletePostRequest"}),n.next=4,o().delete("/api/v1/post/".concat(e));case 4:r=n.sent,s=r.data,t({type:"deletePostSuccess",payload:s.message}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t({type:"deletePostFailure ",payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e){var n=e.id,t=e.name,s=e.place,c=e.number,i=e.description,l=e.service;return function(){var e=(0,r.Z)(a().mark((function e(r){var u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"hostRequest"}),e.next=4,o().post("/api/v1/host/request/".concat(n),{name:t,place:s,number:c,description:i,service:l},{headers:{"Content-Type":"application/json"}});case 4:u=e.sent,d=u.data,r({type:"hostSuccess",payload:d.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:"hostFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},h=function(e){var n=e.id,t=e.name,s=e.place,c=e.number,i=e.description;return function(){var e=(0,r.Z)(a().mark((function e(r){var l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"buddyRequest"}),e.next=4,o().post("/api/v1/buddy/request/".concat(n),{name:t,place:s,number:c,description:i},{headers:{"Content-Type":"application/json"}});case 4:l=e.sent,u=l.data,r({type:"buddySuccess",payload:u.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:"buddyFailure",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()}},4438:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(890),s=t(6151),a=(t(2791),t(3504)),c=t(5397),o=t(9434),i=t(4635),l=t(7580),u=t(184);var d=function(e){var n=e.userId,t=e.name,d=e.avatar,p=e.comment,m=e.commentId,f=e.postId,h=e.isAccount,x=(0,o.v9)((function(e){return e.user})).user,v=(0,o.I0)(),j=function(){v((0,i.Ru)(f,m)),v(h?(0,l.qp)():(0,l.KY)())};return(0,u.jsxs)("div",{className:"commentUser",children:[(0,u.jsxs)(a.rU,{to:"/user/".concat(n),children:[(0,u.jsx)("img",{src:d,alt:t}),(0,u.jsx)(r.Z,{style:{minWidth:"6vmax"},children:t})]}),(0,u.jsx)(r.Z,{className:"comment-tab",children:p}),h?(0,u.jsx)(s.Z,{onClick:j,children:(0,u.jsx)(c.Z,{})}):n===x._id?(0,u.jsx)(s.Z,{style:{color:"black"},onClick:j,children:(0,u.jsx)(c.Z,{})}):null]})}},1410:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(5861),s=t(885),a=t(7757),c=t.n(a),o=t(6151),i=t(3044),l=t(890),u=t(3187),d=t(2791),p=t(7235),m=t(4361),f=t(690),h=t(9230),x=t(4220),v=t(3504),j=t(9434),y=t(4635),g=t(7580),Z=t(12),w=t(4438),k=t(6314),N=t(7798),b=t(2576),C=t(4922),I=t(184);var S=function(e){var n=e.postId,t=e.caption,a=e.postImage,S=e.likes,_=void 0===S?[]:S,F=e.comments,q=void 0===F?[]:F,D=e.ownerImage,R=e.tripDate,P=e.createdAt,U=e.ownerName,A=e.ownerId,E=e.isDelete,Y=void 0!==E&&E,B=e.isAccount,T=void 0!==B&&B,W=e.width,K=(e.host,e.buddy,(0,d.useState)(!1)),O=(0,s.Z)(K,2),z=O[0],H=O[1],L=(0,d.useState)(!1),G=(0,s.Z)(L,2),J=G[0],M=G[1],V=(0,d.useState)(""),Q=(0,s.Z)(V,2),X=Q[0],$=Q[1],ee=(0,d.useState)(!1),ne=(0,s.Z)(ee,2),te=ne[0],re=ne[1],se=(0,d.useState)(t),ae=(0,s.Z)(se,2),ce=ae[0],oe=ae[1],ie=(0,d.useState)(!1),le=(0,s.Z)(ie,2),ue=le[0],de=le[1],pe=(0,j.I0)(),me=(0,j.v9)((function(e){return e.user})).user,fe=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!z),e.next=3,pe((0,y.n9)(n));case 3:pe(T?(0,g.qp)():(0,g.KY)());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,pe((0,y.AA)(n,X));case 3:pe(T?(0,g.qp)():(0,g.KY)());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),xe=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((0,y.fR)(n));case 2:pe((0,g.qp)()),pe((0,g.II)());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){_.forEach((function(e){e._id===me._id&&H(!0)}))}),[_,me._id]),(0,I.jsxs)("div",{className:"post",style:{width:W},children:[(0,I.jsx)("div",{className:"postHeader",children:T?(0,I.jsx)(o.Z,{onClick:function(){return de(!ue)},children:(0,I.jsx)(p.Z,{})}):null}),(0,I.jsx)("img",{src:a,alt:"Post"}),(0,I.jsxs)("div",{className:"postDetails",children:[(0,I.jsx)(i.Z,{src:D,alt:"user",sz:{height:"3vmax",width:"3vmax"}}),(0,I.jsx)(v.rU,{to:"/user/".concat(A),children:(0,I.jsx)(l.Z,{fontWeight:700,children:U})}),(0,I.jsxs)(l.Z,{fontWeight:100,color:"rgba(0, 0, 0, 0.582)",style:{alignSelf:"center"},children:[t," "]}),(0,I.jsx)(l.Z,{fontWeight:100,color:"rgba(0, 0, 0, 0.582)",style:{alignSelf:"center"},children:(0,I.jsxs)("span",{children:[" \xa0 ",(0,k.WU)(P)," "]})})]}),R?(0,I.jsxs)(l.Z,{color:"rgba(0, 0, 0, 0.582)",style:{alignSelf:"center"},children:["\xa0 ",(0,I.jsxs)("span",{style:{fontSize:".9rem"},className:"mt-1 pl-5",children:["\xa0 Trip planned on ",R," "]})]}):"",(0,I.jsx)(o.Z,{style:{border:"none",backgroundColor:"white",cursor:"pointer",marginLeft:"1rem"},onClick:function(){return M(!J)},disabled:0===_.length,children:(0,I.jsxs)(l.Z,{children:[_.length," likes"]})}),(0,I.jsxs)("div",{className:"postFooter",children:[(0,I.jsx)(o.Z,{onClick:fe,className:"InputOptions",children:z?(0,I.jsx)(m.Z,{}):(0,I.jsx)(f.Z,{})}),(0,I.jsx)(o.Z,{onClick:function(){return re(!te)},children:(0,I.jsx)(h.Z,{})}),(0,I.jsx)(o.Z,{className:"InputOptions",children:(0,I.jsx)(N.Z,{overlay:(0,I.jsx)(b.Z,{id:"tooltip-top",children:"Give a proposal"}),children:(0,I.jsx)(v.rU,{to:"/proposal/".concat(n),className:" proposal-button",children:(0,I.jsx)(C.Z,{})})})}),Y?(0,I.jsx)(o.Z,{onClick:xe,children:(0,I.jsx)(x.Z,{})}):null]}),(0,I.jsx)(u.Z,{className:"Dialogbox-scroll",open:J,onClose:function(){return M(!J)},children:(0,I.jsxs)("div",{className:"DialogBox",children:[(0,I.jsx)(l.Z,{variant:"h4",children:"Liked By"}),_.map((function(e){return(0,I.jsx)(Z.Z,{userId:e._id,name:e.name,avatar:e.avatar.url},e._id)}))]})}),(0,I.jsx)(u.Z,{className:"Dialogbox-scroll",open:te,onClose:function(){return re(!te)},children:(0,I.jsxs)("div",{className:"DialogBox2 p-5",children:[(0,I.jsxs)("form",{className:" col-12  p-5 mt-2",onSubmit:he,children:[(0,I.jsx)("textarea",{name:"",value:X,onChange:function(e){return $(e.target.value)},id:"",cols:"20",rows:"3",className:"w-100 "}),(0,I.jsx)(o.Z,{className:"add-butto col-12 ",type:"submit",variant:"contained",children:"Add Comment"})]}),q.length>0?q.map((function(e){return(0,I.jsx)(w.Z,{userId:e.user._id,name:e.user.name,avatar:e.user.avatar.url,comment:e.comment,commentId:e._id,postId:n,isAccount:T},e._id)})):(0,I.jsx)(l.Z,{children:"No comments Yet"})]})}),(0,I.jsx)(u.Z,{className:"Dialogbox-scroll",open:ue,onClose:function(){return de(!ue)},children:(0,I.jsxs)("div",{className:"DialogBox",children:[(0,I.jsx)(l.Z,{variant:"h4",children:"Update caption"}),(0,I.jsxs)("form",{className:"commentForm",onSubmit:function(e){e.preventDefault(),pe((0,y.CP)(ce,n)),pe((0,g.qp)())},children:[(0,I.jsx)("input",{type:"text",value:ce,onChange:function(e){return oe(e.target.value)},placeholder:"Caption Here...",required:!0}),(0,I.jsx)(o.Z,{className:"add-button",type:"submit",variant:"contained",children:"Update"})]})]})})]})}},47:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(5861),s=t(885),a=t(7757),c=t.n(a),o=t(2791),i=t(9434),l=t(7580),u=t(1410),d=t(12),p=t(5009),m=t(6151),f=t(890),h=t(3187),x=t(6871),v=t(7022),j=t(540),y=t(6534),g=t(184);var Z=function(){var e=(0,i.I0)(),n=(0,y.VY)(),t=(0,i.v9)((function(e){return e.userProfile})),a=t.user,Z=t.error,w=(0,i.v9)((function(e){return e.user})).user,k=(0,i.v9)((function(e){return e.userPosts})),N=k.error,b=k.posts,C=(0,i.v9)((function(e){return e.like})),I=C.error,S=C.message,_=C.loading,F=(0,x.UO)(),q=(0,o.useState)(!1),D=(0,s.Z)(q,2),R=D[0],P=D[1],U=(0,o.useState)(!1),A=(0,s.Z)(U,2),E=A[0],Y=A[1],B=(0,o.useState)(!1),T=(0,s.Z)(B,2),W=T[0],K=T[1],O=(0,o.useState)(!1),z=(0,s.Z)(O,2),H=z[0],L=z[1],G=function(){var n=(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(!W),n.next=3,e((0,l.JF)(a._id));case 3:e((0,l.et)(F.id));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){e((0,l.ww)(F.id)),e((0,l.et)(F.id))}),[e,F.id]),(0,o.useEffect)((function(){w._id===F.id&&L(!0),a&&a.followers.forEach((function(e){e._id===w._id?K(!0):K(!1)}))}),[a,w._id,F.id]),(0,o.useEffect)((function(){N&&(n.error(N),e({type:"clearErrors"})),I&&(n.error(I),e({type:"clearErrors"})),Z&&(n.error(Z),e({type:"clearErrors"})),S&&(n.success(S),e({type:"clearMessage"}))}),[n,N,S,I,Z,e]),(0,g.jsx)("div",{className:"user-profile-full-body",children:(0,g.jsx)(v.Z,{children:(0,g.jsxs)("div",{className:"user-profile-page-inside",children:[(0,g.jsx)("div",{className:"user-profile-page-top-section",children:a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:j,alt:"*here cover image"}),(0,g.jsx)("div",{className:"user-profile-pageTopSec",children:(0,g.jsx)(p.q,{radius:"xl",src:a.avatar.url,className:"user-page-top-avatar",style:{width:"130px",height:"130px"}})}),(0,g.jsxs)("div",{className:"d-md-flex justify-content-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"user-profile-page-profile-name",children:a.name}),(0,g.jsx)("h4",{className:"user-profile-page-profile-cat",children:a.bio})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(m.Z,{onClick:function(){return P(!R)},children:(0,g.jsx)(f.Z,{children:"Followers"})}),(0,g.jsx)(f.Z,{className:"text-center",children:a.followers.length})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(m.Z,{onClick:function(){return Y(!E)},children:(0,g.jsx)(f.Z,{children:"Following"})}),(0,g.jsx)(f.Z,{className:"text-center",children:a.following.length})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(m.Z,{children:(0,g.jsx)(f.Z,{children:"Posts"})}),(0,g.jsx)(f.Z,{className:"text-center",children:a.posts.length})]}),H?null:(0,g.jsx)(m.Z,{variant:"contained",style:{background:W?"red":"green",marginRight:" 25px"},onClick:G,disabled:_,className:"follow-button-in-user-profile",children:W?"Unfollow":"Follow"}),(0,g.jsx)(h.Z,{open:R,onClose:function(){return P(!R)},children:(0,g.jsxs)("div",{className:"DialogBox",children:[(0,g.jsx)(f.Z,{variant:"h4",children:"Followers"}),a&&a.followers.length>0?a.followers.map((function(e){return(0,g.jsx)(d.Z,{userId:e._id,name:e.name,avatar:e.avatar.url},e._id)})):(0,g.jsx)(f.Z,{style:{margin:"2vmax"},children:" You have no followers"})]})}),(0,g.jsx)(h.Z,{open:E,onClose:function(){return Y(!E)},children:(0,g.jsxs)("div",{className:"DialogBox",children:[(0,g.jsx)(f.Z,{variant:"h4",children:"Following"}),a&&a.following.length>0?a.following.map((function(e){return(0,g.jsx)(d.Z,{userId:e._id,name:e.name,avatar:e.avatar.url},e._id)})):(0,g.jsx)(f.Z,{style:{margin:"2vmax"},children:" You're not following anyone"})]})})]})]})}),(0,g.jsx)("div",{className:"row",children:b&&b.length>0?b.map((function(e){return(0,g.jsx)("div",{className:"col-12 col-md-6",children:(0,g.jsx)(u.Z,{className:"samplepost",postId:e._id,caption:e.caption,postImage:e.image.url,likes:e.likes,comments:e.comments,ownerImage:e.owner.avatar.url,ownerName:e.owner.name,ownerId:e.owner._id,width:"100%",isAccount:!0,isDelete:!0},e._id)})})):(0,g.jsx)(f.Z,{variant:"h6",children:"User has not made any post"})})]})})})}},12:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var r=t(3504),s=t(890),a=t(184);var c=function(e){var n=e.userId,t=e.name,c=e.avatar;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"row d-flex ",children:(0,a.jsx)("div",{className:"col-8",children:(0,a.jsxs)(r.rU,{to:"/user/".concat(n),className:"users-home-list",children:[(0,a.jsx)("img",{src:c,alt:t}),(0,a.jsx)(s.Z,{children:t})]})})})})}},540:function(e,n,t){e.exports=t.p+"static/media/cover.3dfce389185fd48fc7ec.jpg"}}]);
//# sourceMappingURL=47.4bd44da8.chunk.js.map